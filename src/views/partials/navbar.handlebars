<nav class="nav-navbar navbar-grid">
    <ul class="ul-navbar">
        <li class="li-navbar">
            <a href="/">Inicio</a>
        </li>
        <li class="li-navbar">
            <button class="a-navbar" onclick="goToChat()">Chat</button>
        </li>
        <li class="li-navbar">
            <a href="/login">login</a>
        </li>
    </ul>
    <div class="new-user">
        <p class="user-name">{{name}} {{lastName}}</p>
        <img src="https://thelifetank.com/wp-content/uploads/2018/08/avatar-default-icon.png" alt="imagen usuario" class="user-img">
    </div>
    
</nav>

<script>
    async function goToChat() {
        const url = '/chat';
        try{
            const response = await fetch(url, {
                method: 'GET',
            });

            if(response.ok){
                window.location.href = url;
            } else if(response.status === 403){
                const responseToJson = await response.json();
                Swal.fire({
                    icon: 'error',
                    text: responseToJson.message,
                });
            }
        }catch(error){
            console.log(error);
        }
    }
</script>